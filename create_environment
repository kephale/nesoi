#!/bin/bash

mamba env remove -n nesoi

mamba env create -f environment.yml
source ~/miniconda3/bin/activate nesoi

cd repos

# ===== Setup napari =====
git clone https://github.com/andy-sweet/napari
# git clone https://github.com/napari/napari
cd napari
git remote add upstream git@github.com:napari/napari.git
git remote add kephale git@github.com:kephale/napari.git
git checkout async-slice-proto
cd ..
pip install -e ./napari

# ===== Setup napari-omero =====
git clone https://github.com/tlambert03/napari-omero.git
pip install --no-deps -e ./napari-omero

# ===== Setup napari-animation =====
git clone https://github.com/napari/napari-animation.git
pip install --no-deps -e ./napari-animation

# ===== Setup napari-imaris =====
git clone https://github.com/CBI-PITT/napari-imaris-loader
pip install --no-deps -e ./napari-imaris-loader

# ===== Setup napari-turing =====
git clone https://github.com/leoguignard/napari-turing
pip install --no-deps -e ./napari-turing

# ===== Setup napari-stable-diffusion =====
git clone git@github.com:kephale/napari-stable-diffusion.git
pip install --no-deps -e ./napari-stable-diffusion

# ===== Setup tyssue =====
jupyter nbextension install --sys-prefix --py pythreejs
jupyter nbextension enable --sys-prefix --py pythreejs
jupyter nbextension enable --py widgetsnbextension

git clone --recursive https://github.com/DamCB/tyssue
pip install --no-deps -e ./tyssue

git clone https://github.com/DamCB/tyssue-demo
git clone https://github.com/DamCB/tyssue-notebooks
